<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Marketopper || mr_pankajpandey</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
          crossorigin="anonymous">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">

    <!-- DataTables SearchBuilder CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/searchbuilder/1.4.1/css/searchBuilder.dataTables.min.css">

    <!-- DataTables DateTime CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/datetime/1.4.0/css/dataTables.dateTime.min.css">

    <!-- Your Custom CSS -->
    <style>
        .badge-info {
            background-color: #17a2b8;
        }

        .footer {
            height: 40px;
        }

        /* Additional Styling for Filters */
        .filter-container {
            margin-top: 20px;
        }

        .filter-label {
            font-size: 18px;
            font-weight: bold;
            margin-right: 10px;
        }

        .custom-filter {
            width: 200px;
            margin-right: 10px;
        }

        .reset-filters {
            margin-top: 10px;
        }
    </style>
</head>
<body style="font-size: 14px; font-family: Arial">

<div class="container" style="max-width: 95%; margin-top: 20px;">

    <div class="alert alert-primary" role="alert">
        <center><b>Data Summary</b></center>
    </div>

    <!-- Filter Section -->
    <div class="filter-container">
        <label class="filter-label">Filter By:</label>
        <select class="custom-filter" id="filterSymbol">
            <option value="">All Symbols</option>
            <!-- Add Symbol Options dynamically if needed -->
        </select>
        <select class="custom-filter" id="filterDate">
            <option value="">All Dates</option>
            <!-- Add Date Options dynamically if needed -->
        </select>
        <button class="btn btn-secondary reset-filters" onclick="resetFilters()">Reset Filters</button>
    </div>

    <div class="row">
        <div class="col">
            <table id="example" class="display nowrap" style="width:100%">
                <thead>
                <tr>
                    {% for col in jyoti1 %}
                        <th scope="col">{{ col }}</th>
                    {% endfor %}
                </tr>
                </thead>
                <tbody>
                {% if jyoti %}
                    {% for item in jyoti %}
                        <tr>
                            <td><span class="badge badge-info">{{ item.Sym }}</span></td>
                            <td><span class="badge badge-info" style="text-transform: capitalize;">{{ item.Min_DT }}</span></td>
                            <td><span class="badge badge-info">{{ item.Max_DT }}</span></td>
                            <td><a href="#" >{{ item.BarsCnt }}</a></td>
                            <td><span class="badge badge-info">{{ item.Sum_C }}</span></td>
                            <td><span class="badge badge-info">{{ item.DysCnt }}</span></td>
                        </tr>
                    {% endfor %}
                {% endif %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="footer fixed-bottom">
        <div class="card">
            <div class="card-body text-white bg-secondary text-center">
                @MARKETOPPER Securities PVT Ltd.2023 @copyright all right reserved
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS (Bundle with Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

<!-- DataTables SearchBuilder JS -->
<script src="https://cdn.datatables.net/searchbuilder/1.4.1/js/dataTables.searchBuilder.min.js"></script>

<!-- DataTables DateTime JS -->
<script src="https://cdn.datatables.net/datetime/1.4.0/js/dataTables.dateTime.min.js"></script>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- DataTables Initialization -->
<script>
    $(document).ready(function() {
        // DataTable Initialization
        var table = $('#example').DataTable({
            dom: 'Qlfrtip',
            language: {
                'search': 'Filter:'
            }
        });

        // Populate Symbol and Date Filters (You need to implement this based on your data)
        // Example: $('#filterSymbol').append('<option value="symbol1">Symbol 1</option>');

        // Filter Functionality
        $('#filterSymbol, #filterDate').on('change', function() {
            var symbol = $('#filterSymbol').val();
            var date = $('#filterDate').val();

            // Add your logic to filter the table based on symbol and date
            // Example: table.column(0).search(symbol).draw();
            // Example: table.column(1).search(date).draw();
        });
    });

    // Function to Reset Filters
    function resetFilters() {
        $('#filterSymbol, #filterDate').val('');
        $('#example').DataTable().search('').columns().search('').draw();
    }
</script>

</body>
</html>
